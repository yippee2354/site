<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nexus Stream</title>
    <style>
        /* Zera tudo para parecer App */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: #000; color: #fff; font-family: sans-serif; overflow: hidden; }

        /* --- TELA DE LOGIN (Sobreposta) --- */
        #login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .login-btn {
            width: 80%; max-width: 300px; padding: 15px; margin: 10px;
            border-radius: 30px; border: none; font-size: 16px; font-weight: bold; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        .btn-tt { background: #000; border: 1px solid #333; color: white; text-shadow: 2px 2px 0 #00f2ea; }
        .btn-yt { background: #FF0000; color: white; }

        /* --- FEED INFINITO --- */
        #video-feed {
            height: 100vh;
            width: 100%;
            overflow-y: scroll;
            scroll-snap-type: y mandatory; /* O segredo do efeito "travamento" do TikTok */
        }

        /* Esconde barra de rolagem */
        #video-feed::-webkit-scrollbar { display: none; }

        /* O CONTAINER DO V√çDEO */
        .video-container {
            position: relative;
            width: 100%;
            height: 100vh; /* Ocupa a tela toda */
            scroll-snap-align: start; /* Para exatamente no come√ßo do v√≠deo */
            background: #111;
        }

        /* O V√çDEO EM SI */
        iframe {
            width: 100%; height: 100%; border: none;
            /* Truque para cortar as bordas e parecer tela cheia no celular */
            transform: scale(1.3); 
            pointer-events: none; /* Impede clicar no v√≠deo para pausar (usa bot√µes laterais) */
        }

        /* --- INTERFACE SOBRE O V√çDEO --- */
        .overlay-ui {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; /* Deixa o toque passar pro scroll */
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent 30%);
        }

        .side-bar {
            position: absolute; right: 10px; bottom: 100px;
            display: flex; flex-direction: column; gap: 20px;
            pointer-events: auto; /* Reativa o clique aqui */
        }

        .icon-btn {
            font-size: 30px; text-shadow: 0 2px 5px rgba(0,0,0,0.5);
            background: none; border: none; cursor: pointer; color: white;
            transition: transform 0.1s;
        }
        .icon-btn:active { transform: scale(0.8); }

        /* --- AN√öNCIOS (Dinheiro) --- */
        .ad-popup {
            position: absolute; bottom: 10px; left: 10px; right: 10px;
            background: rgba(255,255,255,0.1); backdrop-filter: blur(5px);
            padding: 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.2);
            pointer-events: auto;
            font-size: 12px; color: #ccc;
        }
    </style>
</head>
<body>

    <div id="login-overlay">
        <h1 style="margin-bottom: 30px;">Nexus Login</h1>
        
        <button class="login-btn btn-tt" onclick="autenticar('tiktok')">
            <span>üéµ</span> Entrar com TikTok
        </button>

        <button class="login-btn btn-yt" onclick="autenticar('youtube')">
            <span>‚ñ∂Ô∏è</span> Entrar com YouTube
        </button>
        
        <p style="margin-top: 20px; font-size: 12px; color: #888;">
            Ao entrar, seus likes treinar√£o o algoritmo.
        </p>
    </div>

    <div id="video-feed">
        </div>

    <script>
        // LISTA DE V√çDEOS (No futuro, isso vir√° da API)
        // Usei IDs reais do YouTube Shorts para simular
        const videoList = [
            'S9bCLPwzSC0', // Exemplo 1
            'p1qVzYJ1TzE', // Exemplo 2
            'NBsL1V6p7cM', // Exemplo 3
            'GgG6qN_t3jM'  // Exemplo 4
        ];

        let isLoggedIn = false;

        // --- FUN√á√ÉO DE LOGIN (Simula√ß√£o de OAuth) ---
        function autenticar(rede) {
            // AQUI √â ONDE A M√ÅGICA T√âCNICA ACONTECE
            // 1. Voc√™ redirecionaria o usu√°rio para: https://accounts.google.com/o/oauth2/auth...
            // 2. O usu√°rio aceita
            // 3. O Google devolve um "Token" pra voc√™ controlar a conta dele
            
            console.log(`Iniciando OAuth 2.0 com ${rede}...`);
            
            const btn = event.currentTarget;
            btn.innerHTML = "Conectando...";
            
            setTimeout(() => {
                document.getElementById('login-overlay').style.display = 'none';
                carregarVideosIniciais();
                isLoggedIn = true;
                alert(`Conectado √† API do ${rede}! Carregando feed personalizado...`);
            }, 1500);
        }

        // --- GERADOR DE V√çDEOS (O Feed Infinito) ---
        function criarSlideVideo(videoId) {
            const div = document.createElement('div');
            div.className = 'video-container';
            
            div.innerHTML = `
                <iframe 
                    src="https://www.youtube.com/embed/${videoId}?autoplay=1&controls=0&mute=1&loop=1&playlist=${videoId}&showinfo=0&rel=0" 
                    allow="autoplay; encrypted-media">
                </iframe>
                
                <div class="overlay-ui">
                    <div class="side-bar">
                        <div style="text-align:center">
                            <button class="icon-btn" onclick="acao('like')">‚ù§Ô∏è</button>
                            <span style="font-size:12px; font-weight:bold">1.2k</span>
                        </div>
                        <div style="text-align:center">
                            <button class="icon-btn" onclick="acao('comment')">üí¨</button>
                            <span style="font-size:12px; font-weight:bold">340</span>
                        </div>
                        <button class="icon-btn" onclick="acao('share')">üîó</button>
                        <button class="icon-btn" style="color:red" onclick="acao('dislike')">üëé</button>
                    </div>

                    <div class="ad-popup" onclick="alert('Indo para o site do anunciante...')">
                        <b>Patrocinado</b><br>
                        Compre este produto incr√≠vel agora! Clique aqui.
                    </div>
                </div>
            `;
            return div;
        }

        function carregarVideosIniciais() {
            const feed = document.getElementById('video-feed');
            
            // Carrega os primeiros v√≠deos da lista
            videoList.forEach(id => {
                feed.appendChild(criarSlideVideo(id));
            });

            // Detectar rolagem para carregar mais (Loop Infinito)
            feed.addEventListener('scroll', () => {
                if (feed.scrollTop + feed.clientHeight >= feed.scrollHeight - 100) {
                    // Chegou no fim? Adiciona mais v√≠deos repetidos para testar
                    carregarMaisVideos();
                }
            });
        }

        function carregarMaisVideos() {
            const feed = document.getElementById('video-feed');
            // Pega um v√≠deo aleat√≥rio da lista para parecer infinito
            const randomId = videoList[Math.floor(Math.random() * videoList.length)];
            feed.appendChild(criarSlideVideo(randomId));
            console.log("Novo v√≠deo carregado (Infinite Scroll)");
        }

        // --- SISTEMA DE FEEDBACK (API) ---
        function acao(tipo) {
            if (!isLoggedIn) return;

            if (tipo === 'dislike') {
                alert("üëé Feedback enviado: 'N√£o mostrar v√≠deos assim'.");
                // Aqui entraria o c√≥digo: youtubeApi.videos.rate(id, 'dislike');
            } else if (tipo === 'like') {
                // Anima√ß√£o de cora√ß√£o poderia entrar aqui
                console.log("Like enviado para a API");
            }
        }

    </script>
</body>
</html>
